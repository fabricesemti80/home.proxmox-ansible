# Proxmox API Token Configuration
# Generated : {{ ansible_date_time.iso8601 }}
# User : {{ item.item.user }}
# Token : {{ item.item.token_name }}

# Connection Details
PROXMOX_URL = https : // {{ hostvars[groups['pve01'][0]]['ansible_host'] }}:8006/api2/json
PROXMOX_NODE = {{ groups['pve01'][0] | regex_replace('\\..*', '') }}# Authentication(API Token)
PROXMOX_USERNAME = {{ item.item.user }}!{{ item.item.token_name }}PROXMOX_TOKEN_ID = {{ item.item.user }}!{{ item.item.token_name }}# Token Status : Created
# Privilege Separation : {{ 'Disabled' if item.item.privsep == 0 else 'Enabled' }}
# Expires : {{ 'Never' if item.item.expire == 0 else item.item.expire }}

# IMPORTANT : Get the token secret from Proxmox UI
# 1. Go to Datacenter - > Permissions - > API Tokens
# 2. Find token : {{ item.item.user }}
!{{ item.item.token_name }}# 3. Click "Show" to reveal the secret
# 4. Copy the secret value

# Usage Examples : # export PROXMOX_TOKEN_SECRET = "your-secret-from-proxmox-ui"
#
# For Packer : Use packer - config.pkr.hcl
# For Terraform : Use terraform - config.tf
